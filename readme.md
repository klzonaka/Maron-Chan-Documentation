# Maron-Chan

Maron-Chanは、 世界最高レベルのもふもふを誇るもふもふベースで構成される

**もふもふに最適化されたもちもちでもふもふな言語です。**

# 構成

Maron-Chanは次の構成で成り立ちます。

* Maron-Chan プログラム
* 入力と、 出力、 エラー出力の**3つのバイトストリーム**

プログラムは、 `IMP <コマンド> <引数>`の形式をしています。

**IMP** (instruction manipulation parameter) は命令の種類を表しています。

|IMP||
|----|----|
|**もふ**|スタック操作
|**もちもふ**|演算|
|**もちもち**|ヒープアクセス|
|**もふもふ**|入出力|
|**もち**|フロー制御|

# 数値
引数として入力可能な <*Integer*\> は数値を表します。

最初に正の数か負の数であるかを指定し、 二進数で記入します。

**もふ**が正の数、 **もち**が負の数を表し、 後に続く値は**もふ**が1、 **もち**が0です。

# スタック操作
スタックに関連した操作を行います。 IMPは`もふ`です。

スタックの値は読み取られた後捨てられます。

|コマンド <引数>|効果|
|----|----|
|**もふ** <*Integer*\>|スタックに整数値を積みます。 
|**もちもふ**|スタックの一番上の値を複製して積みます。|
|**もふもち**|スタックの上2つの値を交換します。|
|**もちもち**|スタックの一番上の値を捨てます。|
|**もふもふ** <*Integer*\>|整数 n を指定して, スタックの上から n 番目にある値をコピーして, スタックの一番上に積みます。|
|**もち** <*Integer*\>|整数 n を指定して, スタックの一番上の値はそのまま残しつつ, 二番目以下を上から n 個削除します。
|

# 演算
スタックの値を使用して計算を行います。IMPは`もちもふ`です。

|コマンド <引数>|効果|
|----|----|
|**もふ**|スタックの上2つの値を加算し, 結果をスタックの一番上に積みます。| 
|**もちもふ**|スタックの上2つの値を減算し, 結果をスタックの一番上に積みます。|
|**もちもち**|スタックの上2つの値を乗算し, 結果をスタックの一番上に積みます。|
|**もふもふ**|スタックの上2つの値を除算し, 結果をスタックの一番上に積みます。 **結果は整数です。**|
|**もち**|スタックの上2つの値を除算した剰余 (除算した余り) をスタックの一番上に積みます。|

# ヒープアクセス
ヒープ領域と呼ばれるメモリに値を書き込み、 後から使用するのに役立ちます。 IMPは`もちもち`です。

|コマンド <引数>|効果|
|----|----|
|**もふ**|スタックからアドレスと値を取り出してヒープ領域に書き込みます。 **上から二番目の値がアドレス、 一番上の値が実際に書き込まれる値です。**|
|**もち**|アドレスから値を取り出してスタックに積みます。 **スタックとは違い、 読み取ったあとも値は残ります。**|